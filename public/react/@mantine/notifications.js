import{r as p,a as h,c as I,_ as xt}from"../vendor.js";import{_ as tt,j as b,N as gt,c as _t,g as Ot,a as yt,P as bt,B as Nt}from"./core.js";import{h as Pt,r as St,i as wt,c as Tt,a as Ct}from"./hooks.js";const et=p.exports.createContext(null);et.displayName="@mantine/notifications/NotificationsContext";function D(e,t){return D=Object.setPrototypeOf||function(o,i){return o.__proto__=i,o},D(e,t)}function nt(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,D(e,t)}var W={disabled:!1},w=h.createContext(null),S="unmounted",g="exited",_="entering",N="entered",M="exiting",m=function(e){nt(t,e);function t(o,i){var r;r=e.call(this,o,i)||this;var a=i,s=a&&!a.isMounting?o.enter:o.appear,l;return r.appearStatus=null,o.in?s?(l=g,r.appearStatus=_):l=N:o.unmountOnExit||o.mountOnEnter?l=S:l=g,r.state={status:l},r.nextCallback=null,r}t.getDerivedStateFromProps=function(i,r){var a=i.in;return a&&r.status===S?{status:g}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var r=null;if(i!==this.props){var a=this.state.status;this.props.in?a!==_&&a!==N&&(r=_):(a===_||a===N)&&(r=M)}this.updateStatus(!1,r)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,r,a,s;return r=a=s=i,i!=null&&typeof i!="number"&&(r=i.exit,a=i.enter,s=i.appear!==void 0?i.appear:a),{exit:r,enter:a,appear:s}},n.updateStatus=function(i,r){i===void 0&&(i=!1),r!==null?(this.cancelNextCallback(),r===_?this.performEnter(i):this.performExit()):this.props.unmountOnExit&&this.state.status===g&&this.setState({status:S})},n.performEnter=function(i){var r=this,a=this.props.enter,s=this.context?this.context.isMounting:i,l=this.props.nodeRef?[s]:[I.findDOMNode(this),s],u=l[0],c=l[1],f=this.getTimeouts(),d=s?f.appear:f.enter;if(!i&&!a||W.disabled){this.safeSetState({status:N},function(){r.props.onEntered(u)});return}this.props.onEnter(u,c),this.safeSetState({status:_},function(){r.props.onEntering(u,c),r.onTransitionEnd(d,function(){r.safeSetState({status:N},function(){r.props.onEntered(u,c)})})})},n.performExit=function(){var i=this,r=this.props.exit,a=this.getTimeouts(),s=this.props.nodeRef?void 0:I.findDOMNode(this);if(!r||W.disabled){this.safeSetState({status:g},function(){i.props.onExited(s)});return}this.props.onExit(s),this.safeSetState({status:M},function(){i.props.onExiting(s),i.onTransitionEnd(a.exit,function(){i.safeSetState({status:g},function(){i.props.onExited(s)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,r){r=this.setNextCallback(r),this.setState(i,r)},n.setNextCallback=function(i){var r=this,a=!0;return this.nextCallback=function(s){a&&(a=!1,r.nextCallback=null,i(s))},this.nextCallback.cancel=function(){a=!1},this.nextCallback},n.onTransitionEnd=function(i,r){this.setNextCallback(r);var a=this.props.nodeRef?this.props.nodeRef.current:I.findDOMNode(this),s=i==null&&!this.props.addEndListener;if(!a||s){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[a,this.nextCallback],u=l[0],c=l[1];this.props.addEndListener(u,c)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===S)return null;var r=this.props,a=r.children;r.in,r.mountOnEnter,r.unmountOnExit,r.appear,r.enter,r.exit,r.timeout,r.addEndListener,r.onEnter,r.onEntering,r.onEntered,r.onExit,r.onExiting,r.onExited,r.nodeRef;var s=tt(r,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return h.createElement(w.Provider,{value:null},typeof a=="function"?a(i,s):h.cloneElement(h.Children.only(a),s))},t}(h.Component);m.contextType=w;m.propTypes={};function y(){}m.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:y,onEntering:y,onEntered:y,onExit:y,onExiting:y,onExited:y};m.UNMOUNTED=S;m.EXITED=g;m.ENTERING=_;m.ENTERED=N;m.EXITING=M;var It=m;function $t(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function R(e,t){var n=function(r){return t&&p.exports.isValidElement(r)?t(r):r},o=Object.create(null);return e&&p.exports.Children.map(e,function(i){return i}).forEach(function(i){o[i.key]=n(i)}),o}function Dt(e,t){e=e||{},t=t||{};function n(c){return c in t?t[c]:e[c]}var o=Object.create(null),i=[];for(var r in e)r in t?i.length&&(o[r]=i,i=[]):i.push(r);var a,s={};for(var l in t){if(o[l])for(a=0;a<o[l].length;a++){var u=o[l][a];s[o[l][a]]=n(u)}s[l]=n(l)}for(a=0;a<i.length;a++)s[i[a]]=n(i[a]);return s}function O(e,t,n){return n[t]!=null?n[t]:e.props[t]}function Mt(e,t){return R(e.children,function(n){return p.exports.cloneElement(n,{onExited:t.bind(null,n),in:!0,appear:O(n,"appear",e),enter:O(n,"enter",e),exit:O(n,"exit",e)})})}function jt(e,t,n){var o=R(e.children),i=Dt(t,o);return Object.keys(i).forEach(function(r){var a=i[r];if(!!p.exports.isValidElement(a)){var s=r in t,l=r in o,u=t[r],c=p.exports.isValidElement(u)&&!u.props.in;l&&(!s||c)?i[r]=p.exports.cloneElement(a,{onExited:n.bind(null,a),in:!0,exit:O(a,"exit",e),enter:O(a,"enter",e)}):!l&&s&&!c?i[r]=p.exports.cloneElement(a,{in:!1}):l&&s&&p.exports.isValidElement(u)&&(i[r]=p.exports.cloneElement(a,{onExited:n.bind(null,a),in:u.props.in,exit:O(a,"exit",e),enter:O(a,"enter",e)}))}}),i}var Rt=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},Vt={component:"div",childFactory:function(t){return t}},V=function(e){nt(t,e);function t(o,i){var r;r=e.call(this,o,i)||this;var a=r.handleExited.bind($t(r));return r.state={contextValue:{isMounting:!0},handleExited:a,firstRender:!0},r}var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(i,r){var a=r.children,s=r.handleExited,l=r.firstRender;return{children:l?Mt(i,s):jt(i,a,s),firstRender:!1}},n.handleExited=function(i,r){var a=R(this.props.children);i.key in a||(i.props.onExited&&i.props.onExited(r),this.mounted&&this.setState(function(s){var l=xt({},s.children);return delete l[i.key],{children:l}}))},n.render=function(){var i=this.props,r=i.component,a=i.childFactory,s=tt(i,["component","childFactory"]),l=this.state.contextValue,u=Rt(this.state.children).map(a);return delete s.appear,delete s.enter,delete s.exit,r===null?h.createElement(w.Provider,{value:l},u):h.createElement(w.Provider,{value:l},h.createElement(r,s,u))},t}(h.Component);V.propTypes={};V.defaultProps=Vt;var Lt=V;const j={show:"mantine:show-notification",hide:"mantine:hide-notification",update:"mantine:update-notification",clean:"mantine:clean-notifications",cleanQueue:"mantine:clean-notifications-queue"};function Ut(e,t){return new CustomEvent(e,{detail:t})}function me(e){window.dispatchEvent(Ut(j.show,e))}function Ft(e){const t={show:n=>e.showNotification(n.detail),hide:n=>e.hideNotification(n.detail),update:n=>e.updateNotification(n.detail.id,n.detail),clean:e.clean,cleanQueue:e.cleanQueue};p.exports.useEffect(()=>(Object.keys(t).forEach(n=>{window.addEventListener(j[n],t[n])}),()=>{Object.keys(t).forEach(n=>{window.removeEventListener(j[n],t[n])})}),[])}function Ht([e,t],n,o){const i={};return e==="top"&&(i.top=o),e==="bottom"&&(i.bottom=o),t==="left"&&(i.left=o),t==="right"&&(i.right=o),t==="center"&&(i.left=`calc(50% - ${n/2}px)`),i}var kt=Object.defineProperty,X=Object.getOwnPropertySymbols,Gt=Object.prototype.hasOwnProperty,Wt=Object.prototype.propertyIsEnumerable,z=(e,t,n)=>t in e?kt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Q=(e,t)=>{for(var n in t||(t={}))Gt.call(t,n)&&z(e,n,t[n]);if(X)for(var n of X(t))Wt.call(t,n)&&z(e,n,t[n]);return e};const A={left:"translateX(-100%)",right:"translateX(100%)","top-center":"translateY(-100%)","bottom-center":"translateY(100%)"},Xt={left:"translateX(0)",right:"translateX(0)","top-center":"translateY(0)","bottom-center":"translateY(0)"};function zt({state:e,maxHeight:t,positioning:n,transitionDuration:o}){const[i,r]=n,a=r==="center"?`${i}-center`:r,s={opacity:0,maxHeight:t,transform:A[a],transitionDuration:`${o}ms, ${o}ms, ${o}ms`,transitionTimingFunction:"cubic-bezier(.51,.3,0,1.21), cubic-bezier(.51,.3,0,1.21), linear",transitionProperty:"opacity, transform, max-height"},l={opacity:1,transform:Xt[a]},u={opacity:0,maxHeight:0,transform:A[a]},c={entering:l,entered:l,exiting:u,exited:u};return Q(Q({},s),c[e])}function Qt(e,t){return typeof t=="number"?t:t===!1||e===!1?!1:e}var At=Object.defineProperty,Yt=Object.defineProperties,qt=Object.getOwnPropertyDescriptors,T=Object.getOwnPropertySymbols,rt=Object.prototype.hasOwnProperty,it=Object.prototype.propertyIsEnumerable,Y=(e,t,n)=>t in e?At(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,q=(e,t)=>{for(var n in t||(t={}))rt.call(t,n)&&Y(e,n,t[n]);if(T)for(var n of T(t))it.call(t,n)&&Y(e,n,t[n]);return e},Bt=(e,t)=>Yt(e,qt(t)),B=(e,t)=>{var n={};for(var o in e)rt.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&T)for(var o of T(e))t.indexOf(o)<0&&it.call(e,o)&&(n[o]=e[o]);return n};function ot(e){var t=e,{notification:n,autoClose:o,onHide:i,innerRef:r}=t,a=B(t,["notification","autoClose","onHide","innerRef"]);const s=n,{autoClose:l}=s,u=B(s,["autoClose"]),c=Qt(o,l),f=p.exports.useRef(),d=()=>{i(n.id),window.clearTimeout(f.current)},x=()=>{clearTimeout(f.current)},v=()=>{typeof c=="number"&&(f.current=window.setTimeout(d,c))};return p.exports.useEffect(()=>{typeof n.onOpen=="function"&&n.onOpen(n)},[]),p.exports.useEffect(()=>(v(),x),[o,n.autoClose]),b(gt,{...Bt(q(q({},u),a),{onClose:d,onMouseEnter:x,onMouseLeave:v,ref:r}),children:n.message})}ot.displayName="@mantine/notifications/NotificationContainer";var Zt=_t(e=>({notifications:{width:`calc(100% - ${e.spacing.md*2}px)`,boxSizing:"border-box",position:"fixed",zIndex:1e3},notification:{"&:not(:first-of-type)":{marginTop:e.spacing.sm}}})),Jt=Zt,Kt=Object.defineProperty,te=Object.defineProperties,ee=Object.getOwnPropertyDescriptors,Z=Object.getOwnPropertySymbols,ne=Object.prototype.hasOwnProperty,re=Object.prototype.propertyIsEnumerable,J=(e,t,n)=>t in e?Kt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ie=(e,t)=>{for(var n in t||(t={}))ne.call(t,n)&&J(e,n,t[n]);if(Z)for(var n of Z(t))re.call(t,n)&&J(e,n,t[n]);return e},oe=(e,t)=>te(e,ee(t));function ae({limit:e}){const{state:t,queue:n,update:o,cleanQueue:i}=Pt({initialValues:[],limit:e});return{notifications:t,queue:n,showNotification:u=>{const c=u.id||St();return o(f=>u.id&&f.some(d=>d.id===u.id)?f:[...f,oe(ie({},u),{id:c})]),c},updateNotification:(u,c)=>o(f=>{const d=f.findIndex(v=>v.id===u);if(d===-1)return f;const x=[...f];return x[d]=c,x}),hideNotification:u=>o(c=>c.filter(f=>f.id===u?(typeof f.onClose=="function"&&f.onClose(f),!1):!0)),cleanQueue:i,clean:()=>o(()=>[])}}var se=Object.defineProperty,C=Object.getOwnPropertySymbols,at=Object.prototype.hasOwnProperty,st=Object.prototype.propertyIsEnumerable,K=(e,t,n)=>t in e?se(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,$=(e,t)=>{for(var n in t||(t={}))at.call(t,n)&&K(e,n,t[n]);if(C)for(var n of C(t))st.call(t,n)&&K(e,n,t[n]);return e},le=(e,t)=>{var n={};for(var o in e)at.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&C)for(var o of C(e))t.indexOf(o)<0&&st.call(e,o)&&(n[o]=e[o]);return n};const ue=["top-left","top-right","top-center","bottom-left","bottom-right","bottom-center"];function ce(e){var t=e,{className:n,position:o="bottom-right",autoClose:i=4e3,transitionDuration:r=250,containerWidth:a=440,notificationMaxHeight:s=200,limit:l=5,zIndex:u=Ot("overlay"),style:c,children:f}=t,d=le(t,["className","position","autoClose","transitionDuration","containerWidth","notificationMaxHeight","limit","zIndex","style","children"]);const x=wt(),v=p.exports.useRef({}),L=p.exports.useRef(0),{notifications:P,queue:lt,showNotification:ut,updateNotification:ct,hideNotification:U,clean:ft,cleanQueue:pt}=ae({limit:l}),F=Tt()?1:r,{classes:H,cx:dt,theme:ht}=Jt(),k=(ue.includes(o)?o:"bottom-right").split("-"),G={notifications:P,queue:lt,showNotification:ut,hideNotification:U,updateNotification:ct,clean:ft,cleanQueue:pt};Ct(()=>{P.length>L.current&&setTimeout(()=>x(),0),L.current=P.length},[P]),Ft(G);const mt=P.map(E=>b(It,{timeout:F,onEnter:()=>v.current[E.id].offsetHeight,nodeRef:{current:v.current[E.id]},children:vt=>b(ot,{innerRef:Et=>{v.current[E.id]=Et},notification:E,onHide:U,className:H.notification,autoClose:i,sx:[$({},zt({state:vt,positioning:k,transitionDuration:F,maxHeight:s})),...Array.isArray(E.sx)?E.sx:[E.sx]]})},E.id));return yt(et.Provider,{value:G,children:[b(bt,{zIndex:u,children:b(Nt,{...$({className:dt(H.notifications,n),style:c,sx:$({maxWidth:a},Ht(k,a,ht.spacing.md))},d),children:b(Lt,{children:mt})})}),f]})}ce.displayName="@mantine/notifications/NotificationsProvider";export{ce as N,me as s};
